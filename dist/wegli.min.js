/**
 * @name    wegli
 * @version 0.0.7 | November 21st 2018
 * @author  Florian Markert
 * @license MIT
 */
!function o(a,f,s){function u(t,e){if(!f[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=f[t]={exports:{}};a[t][0].call(i.exports,function(e){return u(a[t][1][e]||e)},i,i.exports,o,a,f,s)}return f[t].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,r,t){!function(e){"use strict";var t=function(s,e){var i={};initWebgl(i),(new HeatmapShader).getHeatmapShader(s,!1),(new HeatmapShader).getHeatmapShader(s,!0);var r=s.myPrograms.heatmapShaderC,n=s.myPrograms.heatmapShaderBw,u=s.createBuffer(),c={setPixel:function(){},age:0,pointSize:1},o=function(a,f){var e=0,t=0;c.age=0,c.arraySize=4*a*f,c.vertices=new Float32Array(c.arraySize);for(var r=0;r<a;r++){var n=t;e-=2/a;for(var i=0;i<f;i++){var o=new Float32Array(4);o[0]=e+1,o[1]=2*i/f-1,o[2]=0,o[3]=0,t=(n+4*i)%c.arraySize,c.vertices.set(o,t)}t=(n+4*f)%c.arraySize}s.bindBuffer(s.ARRAY_BUFFER,u),s.bufferData(s.ARRAY_BUFFER,c.vertices,s.DYNAMIC_DRAW),c.setPixel=function(e,t,r){if(e<0||a<e||t<0||f<t)return!1;var n=(a-e+1)*f*4-4*t,i=c.vertices[n+2]-c.vertices[n+3]+c.age,o=i-r;r<i?o=-r:o<-1&&(o=-1),c.vertices[n+2]=o,c.vertices[n+3]=c.age,s.bufferSubData(s.ARRAY_BUFFER,4*n+8,c.vertices.subarray(n+2,n+4))}};e?o(e.x,e.y):o(100,100);var a=function(e,t,r,n){s.useProgram(n),s.blendFunc(s.SRC_ALPHA,s.ONE),s.enable(s.DEPTH_TEST),s.bindBuffer(s.ARRAY_BUFFER,r),s.vertexAttribPointer(n.position,3,s.FLOAT,!1,16,0),s.vertexAttribPointer(n.birth,1,s.FLOAT,!1,16,12),s.lineWidth(1),s.uniform1f(n.date,c.age),s.uniform1f(n.pointSize,c.pointSize),s.uniformMatrix4fv(n.transformation,!1,i.transformCoordinates),s.drawArrays(s[t],0,c.arraySize/4)};return{reinitBuffer:function(e,t){return o(e,t)},transform:function(e){i.transformValues=e,i.transformCoordinates=getTransformationMatrix(i.transformValues)},drawBw:function(e,t){a(0,t,u,n)},drawC:function(e,t){a(0,t,u,r)},setPixel:c.setPixel,age:function(e){c.age+=e},setPointSize:function(e){c.pointSize=e}}};"object"==typeof r&&r&&"object"==typeof r.exports?r.exports=t:(e.attachHeatmapShader=t,"function"==typeof define&&define.amd&&define(t))}(window)},{}],2:[function(e,r,t){!function(e){"use strict";var t=function(o){o.depthFunc(o.LEQUAL),(new PolygonShader).getShader(o);var a=o.myPrograms.polygonShader,f=o.createBuffer(),s=o.createBuffer(),u={};initWebgl(u);var c=function(e,t,r,n){o.bindBuffer(o.ARRAY_BUFFER,r),o.bufferData(o.ARRAY_BUFFER,new Float32Array(t),o.STATIC_DRAW),o.vertexAttribPointer(e,n,o.FLOAT,!1,0,0)};return{draw:function(e,t,r){var n,i;o.useProgram(a),c(a.position,e,f,3),c(a.color,t,s,3),n=o[r],i=e.length/3,o.lineWidth(3),o.uniformMatrix4fv(a.transformation,!1,u.transformCoordinates),o.drawArrays(n,0,i)},transform:function(e){u.transformValues=e,u.transformCoordinates=getTransformationMatrix(u.transformValues)}}};"object"==typeof r&&r&&"object"==typeof r.exports?r.exports=t:(e.attachPloygonShader=t,"function"==typeof define&&define.amd&&define(t))}(window)},{}],3:[function(e,r,t){!function(e){"use strict";var t=function(u){(new TextureShader).getShader2d(u);var c=u.myPrograms.textureShader2d;(new TextureShader).getShader3d(u);var d=u.myPrograms.textureShader3d,m=document.createElement("canvas").getContext("2d");m.canvas.width=256,m.canvas.height=256;var n={};initWebgl(n);var o={},g=[],a=1,f=64,l={},v={},h=u.createBuffer(),p=u.createBuffer();l.n=[-1,-1,0,1,-1,0,-1,1,0,1,1,0],l.x=[0,-1,-1,0,1,-1,0,-1,1,0,1,1],l.y=[-1,0,-1,1,0,-1,-1,0,1,1,0,1],l.z=[-1,-1,0,1,-1,0,-1,1,0,1,1,0],v.x=[0,1,1,1,0,0,1,0],v.y=[1,1,0,1,1,0,0,0],v.z=[1,1,0,1,1,0,0,0],v.n=[0,0,1,0,0,1,1,1];var i=function(e){return!(e&e-1)},s=function(e,t){var r;m.clearRect(0,0,m.canvas.width,m.canvas.height),r=t,m.font=r.font,m.fillStyle=r.fill,m.strokeStyle=r.stroke,m.textAlign="left",m.textBaseline="bottom",m.fillText(e,m.canvas.width/2,m.canvas.height/2)},x=function(e,t,r){"n"!==e.plane&&(u.useProgram(d),u.uniformMatrix4fv(d.pMatrixUniform,!1,n.transformCoordinates)),t&&(g[r]&&u.isTexture(g[r])||(g[r]=u.createTexture()),u.bindTexture(u.TEXTURE_2D,g[r]),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!0),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i(m.canvas.width)&&i(m.canvas.height)?(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST)):(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE)))},A=[],y=function(e,t,r,n){var i;u.enable(u.DEPTH_TEST),u.blendFunc(u.SRC_ALPHA,u.ONE),u.enable(u.BLEND),u.depthFunc(u.LEQUAL),i="n"!==e.plane?d:c,u.useProgram(i),A.length=0;var o=m.canvas.width/u.canvas.width,a=m.canvas.height/u.canvas.height,f=1;"y"===e.plane?(f=a,a=1):"x"===e.plane&&(f=a,a=o,o=1);for(var s=0;s<l[e.plane].length/3;s++)A[3*s]=l[e.plane][3*s]*o+e.pos[0],A[3*s+1]=l[e.plane][3*s+1]*a+e.pos[1],A[3*s+2]=l[e.plane][3*s+2]*f+e.pos[2];n||u.bindTexture(u.TEXTURE_2D,g[r]),u.activeTexture(u.TEXTURE0),u.bindBuffer(u.ARRAY_BUFFER,h),u.bufferData(u.ARRAY_BUFFER,new Float32Array(A),u.STATIC_DRAW),u.vertexAttribPointer(i.texPos,3,u.FLOAT,0,0,A),u.bindBuffer(u.ARRAY_BUFFER,p),u.bufferData(u.ARRAY_BUFFER,new Float32Array(v[e.plane]),u.STATIC_DRAW),u.vertexAttribPointer(i.texCoord,2,u.FLOAT,0,0,v[e.plane]),n&&t&&0<t.width&&0<t.height&&0<u.canvas.height&&0<u.canvas.width&&(u.uniform1i(i.sampler,0),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,t)),t&&0<t.width&&0<t.height&&0<u.canvas.height&&0<u.canvas.width&&u.drawArrays(u.TRIANGLE_STRIP,0,4),u.disable(u.BLEND)};return{writeText:function(e,t){var r=t.font+t.fill+t.stroke;if(o[e+r])o[e+r].used=new Date,x(t,!1,o[e+r].id),y(t,m.canvas,o[e+r].id,!1);else{var n=function(e){if(o[e]={},o[e].used=new Date,a<f)return o[e].id=a,++a-1;var t,r,n,i=-Number.MAX_VALUE;for(t in o)o[e].used-o[t].used>i&&(i=o[e].used-o[t].used,r=t),0===o[t].id&&(n=t);return 1e3<i?(o[e].id=o[r].id,delete o[r]):(o[e].id=0,n&&delete o[n]),o[e].id}(e+r);x(t,!0,n),s(e,t),y(t,m.canvas,n,!0)}},transform:function(e){n.transformValues=e,n.transformCoordinates=getTransformationMatrix(n.transformValues)},drawTexture:function(e,t){x(t,t.redraw,0),y(t,e,0,t.redraw)},setTextureSize:function(e,t){m.canvas.width=e,m.canvas.height=t},setTextureBufferSize:function(e){f=e}}};"object"==typeof r&&r&&"object"==typeof r.exports?r.exports=t:(e.attachTextureShader=t,"function"==typeof define&&define.amd&&define(t))}(window)},{}],4:[function(e,r,t){!function(e){"use strict";var t=function(s,e){var n={};initWebgl(n),(new HeatmapShader).getFloatingShader(s,!1),(new HeatmapShader).getFloatingShader(s,!0);var t=s.myPrograms.floatingShaderC,r=s.myPrograms.floatingShaderBw,u=s.createBuffer(),c={setColumn:function(){},pointSize:1},i=function(i,o){var e=0;c.xOffset=0,c.speed=2/i,c.columnPointer=0,c.arraySize=3*i*o,c.vertices=new Float32Array(c.arraySize);for(var t=0;t<i;t++){var r=e;2/i;for(var n=0;n<o;n++){var a=new Float32Array(3);a[0]=0,a[1]=0,a[2]=0,e=(r+3*n)%c.arraySize,c.vertices.set(a,e)}e=(r+3*o)%c.arraySize}s.bindBuffer(s.ARRAY_BUFFER,u),s.bufferData(s.ARRAY_BUFFER,c.vertices,s.DYNAMIC_DRAW);var f=new Float32Array(3*o);c.setColumn=function(e){s.bindBuffer(s.ARRAY_BUFFER,u);var t=12*c.arraySize,r=c.columnPointer*o*12,n=0;if(e.length<o)for(e.length=o,n=e.length;n<o;n++)e[n]=0;for(n=0;n<o;n++)f[0+3*n]=c.xOffset+1,f[1+3*n]=2*n/e.length-1,f[2+3*n]=-e[n];s.bufferSubData(s.ARRAY_BUFFER,r%t,f),c.columnPointer=(c.columnPointer+1)%i,c.xOffset+=c.speed}};e?i(e.x,e.y):i(100,100);var o=function(e,t,r){s.useProgram(r),s.blendFunc(s.SRC_ALPHA,s.ONE),s.enable(s.DEPTH_TEST),s.bindBuffer(s.ARRAY_BUFFER,t),s.vertexAttribPointer(r.position,3,s.FLOAT,!1,12,0),s.lineWidth(1),s.uniform1f(r.shift,c.xOffset),s.uniformMatrix4fv(r.transformation,!1,n.transformCoordinates),s.uniform1f(r.pointSize,c.pointSize),s.drawArrays(s[e],0,c.arraySize/3)};return{reinitBuffer:function(e,t){return i(e,t)},transform:function(e){n.transformValues=e,n.transformCoordinates=getTransformationMatrix(n.transformValues)},drawBw:function(e){o(e,u,r)},drawC:function(e){o(e,u,t)},setColumn:c.setColumn,setPointSize:function(e){c.pointSize=e}}};"object"==typeof r&&r&&"object"==typeof r.exports?r.exports=t:(e.attachWaterfallShader=t,"function"==typeof define&&define.amd&&define(t))}(window)},{}],5:[function(e,t,r){"use strict"},{}],6:[function(e,r,t){!function(e){"use strict";var t=function(){var i="\nattribute vec3 position;\nuniform float shift;\nuniform float ps;\nvarying float height;\nuniform mat4 uPMatrix;\nvoid main(void) {\ngl_Position = uPMatrix * vec4(position.x - shift, position.y, position.z, 1.);\nheight=-4.0*position.z;\ngl_PointSize = ps;\n}",o="\nattribute vec3 position;\nattribute float birth;\nvarying float height;\nuniform mat4 uPMatrix;\nuniform float ps;\nuniform float date;\nvoid main(void) {\nfloat zpos = position.z+date-birth;\nif (zpos > 0.0) zpos = 0.0;\nif (zpos < -2.0) zpos = -2.0;\ngl_Position = uPMatrix * vec4(position.x, position.y, zpos, 1.);\nheight=-4.0*zpos;\ngl_PointSize = ps;\n}",a="\nprecision mediump float;\nvarying float height;\nvoid main(void) {\nvec3 cs = vec3(0.5,0,0);\nif (0.0 <= height && height <= 0.5) cs = vec3(0,0,height+0.5);\nelse if (0.5 < height && height <= 1.5) cs = vec3(0,height-0.5,1);\nelse if (1.5 < height && height <= 2.5) cs = vec3(height-1.5,1,2.5-height);\nelse if (2.5 < height && height <= 3.5) cs = vec3(1,3.5-height,0);\nelse if (3.5 < height && height <= 4.0) cs = vec3(4.5-height,0,0);\ngl_FragColor = vec4(cs, 1.);\n}",f="\nprecision mediump float;\nvarying float height;\nvoid main(void) {\nvec3 cs = vec3(height/4.0,height/4.0,height/4.0);\ngl_FragColor = vec4(cs, 1.);\n}";return{getHeatmapShader:function(e,t){var r=f;t&&(r=a);var n=compileProgram(e,o,r);n.position=e.getAttribLocation(n,"position"),n.birth=e.getAttribLocation(n,"birth"),n.transformation=e.getUniformLocation(n,"uPMatrix"),n.pointSize=e.getUniformLocation(n,"ps"),n.date=e.getUniformLocation(n,"date"),e.enableVertexAttribArray(n.position),e.enableVertexAttribArray(n.birth),e.myPrograms||(e.myPrograms={}),t?e.myPrograms.heatmapShaderC=n:e.myPrograms.heatmapShaderBw=n},getFloatingShader:function(e,t){var r=f;t&&(r=a);var n=compileProgram(e,i,r);n.position=e.getAttribLocation(n,"position"),n.shift=e.getUniformLocation(n,"shift"),n.pointSize=e.getUniformLocation(n,"ps"),n.transformation=e.getUniformLocation(n,"uPMatrix"),e.enableVertexAttribArray(n.position),e.enableVertexAttribArray(n.currentShift),e.myPrograms||(e.myPrograms={}),t?e.myPrograms.floatingShaderC=n:e.myPrograms.floatingShaderBw=n}}};"object"==typeof r&&r&&"object"==typeof r.exports?r.exports=t:(e.HeatmapShader=t,"function"==typeof define&&define.amd&&define(t))}(window)},{}],7:[function(e,r,t){!function(e){"use strict";var t=function(){var r="\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vc;\nuniform mat4 uPMatrix;\nvoid main(void) {\ngl_Position = vec4(position, 1.);\ngl_PointSize = 2.0;\nvc=color;\n}",n="\nprecision mediump float;\nvarying vec3 vc;\nvoid main(void) {\ngl_FragColor = vec4(vc, 1.);\n}";return{getShader:function(e){var t=compileProgram(e,r,n);t.color=e.getAttribLocation(t,"color"),t.position=e.getAttribLocation(t,"position"),t.transformation=e.getUniformLocation(t,"uPMatrix"),e.enableVertexAttribArray(t.color),e.enableVertexAttribArray(t.position),e.myPrograms||(e.myPrograms={}),e.myPrograms.polygonShader=t}}};"object"==typeof r&&r&&"object"==typeof r.exports?r.exports=t:(e.PolygonShader=t,"function"==typeof define&&define.amd&&define(t))}(window)},{}],8:[function(e,r,t){!function(e){"use strict";var t=function(){var r="\nattribute vec3 position;\nattribute vec4 inputTextureCoordinate;\nvarying vec2 textureCoordinate;\nvoid main(void) {\ngl_Position = vec4(position, 1.);\ntextureCoordinate = inputTextureCoordinate.xy;\n}",n="\nattribute vec3 position;\nattribute vec4 inputTextureCoordinate;\nuniform mat4 uPMatrix;\nvarying vec2 textureCoordinate;\nvoid main(void) {\ngl_Position = uPMatrix * vec4(position, 1.);\ntextureCoordinate = inputTextureCoordinate.xy;\n}",i="\nprecision mediump float;\nvarying vec2 textureCoordinate;\nuniform sampler2D uSampler;\nvoid main(void) {\ngl_FragColor = texture2D(uSampler, textureCoordinate);\n}";return{getShader3d:function(e){var t=compileProgram(e,n,i);t.texCoord=e.getAttribLocation(t,"inputTextureCoordinate"),t.texPos=e.getAttribLocation(t,"position"),t.sampler=e.getUniformLocation(t,"uSampler"),t.pMatrixUniform=e.getUniformLocation(t,"uPMatrix"),e.enableVertexAttribArray(t.texCoord),e.enableVertexAttribArray(t.texPos),e.myPrograms||(e.myPrograms={}),e.myPrograms.textureShader3d=t},getShader2d:function(e){var t=compileProgram(e,r,i);t.texCoord=e.getAttribLocation(t,"inputTextureCoordinate"),t.texPos=e.getAttribLocation(t,"position"),t.sampler=e.getUniformLocation(t,"uSampler"),e.enableVertexAttribArray(t.texCoord),e.enableVertexAttribArray(t.texPos),e.myPrograms||(e.myPrograms={}),e.myPrograms.textureShader2d=t}}};"object"==typeof r&&r&&"object"==typeof r.exports?r.exports=t:(e.TextureShader=t,"function"==typeof define&&define.amd&&define(t))}(window)},{}]},{},[1,2,3,4,5,6,7,8]);